record(motor,"$(P)$(M)")
{
	field(DESC,"$(DESC)")
	field(DTYP,"$(DTYP)")
	field(DIR,"$(DIR)")
	field(VELO,"$(VELO)")
	field(VBAS,"$(VBAS)")
	field(ACCL,"$(ACCL)")
	field(BDST,"$(BDST)")
	field(BVEL,"$(BVEL)")
	field(BACC,"$(BACC)")
	field(OUT,"@asyn($(PORT),$(ADDR))")
	field(MRES,"$(MRES)")
	field(PREC,"$(PREC)")
	field(EGU,"$(EGU)")
	field(DHLM,"$(DHLM)")
	field(DLLM,"$(DLLM)")
	field(INIT,"$(INIT)")
	field(TWV,"1")
	# ISIS local archiving and alarm
	info(archive, "0.02 VAL RBV DVAL OFF MSTA DIR CNEN MOVN DMOV MISS RCNT")
	info(alarm, "Motors")
}

# ISIS local aliases for genie_python
alias("$(P)$(M)", "$(P)$(M):SP")
alias("$(P)$(M)", "$(P)$(M):SP:RBV")

# ISIS enable/disable
record(bo, "$(P)$(M)_able") {
  field(DESC, "motor enable")
  field(PINI, "YES")
  field(OUT, "$(P)$(M).DISP")
  field(ZNAM, "Enable")
  field(ONAM, "Disable")
}

record(ao,"$(P)$(M)_MRESMON")
{
    field(OMSL, "closed_loop")
    field(DOL, "$(P)$(M).MRES CP")
    field(DTYP, "asynFloat64")
    field(OUT, "@asyn($(PORT),$(ADDR))MOTOR_RESOLUTION")
}

record(calcout,"$(P)$(M)_MERATMON")
{
    field(INPA, "$(P)$(M).MRES CP")
    field(INPB, "$(P)$(M).ERES CP")
	field(CALC, "(A != 0 && B != 0) ? A / B : 0")
	field(OOPT, "When Non-zero")
    field(OUT, "$(P)$(M)_MERAT PP")
}

record(ao,"$(P)$(M)_MERAT")
{
    field(DTYP, "asynFloat64")
    field(OUT, "@asyn($(PORT),$(ADDR))MOTOR_ENCODER_RATIO")
}